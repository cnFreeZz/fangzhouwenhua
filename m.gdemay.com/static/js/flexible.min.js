!function(win,lib){var timer,doc=win.document,docElem=doc.documentElement,vpMeta=doc.querySelector('meta[name="viewport"]'),flexMeta=doc.querySelector('meta[name="flexible"]'),dpr=0,scale=0,flexible=lib.flexible||(lib.flexible={}),initial;if(vpMeta)(initial=vpMeta.getAttribute("content").match(/initial\-scale=([\d\.]+)/))&&(scale=parseFloat(initial[1]),dpr=parseInt(1/scale));else if(flexMeta){var flexMetaContent=flexMeta.getAttribute("content");if(flexMetaContent){var initial=flexMetaContent.match(/initial\-dpr=([\d\.]+)/),maximum=flexMetaContent.match(/maximum\-dpr=([\d\.]+)/);initial&&(dpr=parseFloat(initial[1]),scale=parseFloat((1/dpr).toFixed(2))),maximum&&(dpr=parseFloat(maximum[1]),scale=parseFloat((1/dpr).toFixed(2)))}}if(!dpr&&!scale){var u=(win.navigator.appVersion.match(/android/gi),win.navigator.appVersion.match(/iphone/gi)),_dpr=win.devicePixelRatio;scale=1/(dpr=u?_dpr>=3&&(!dpr||dpr>=3)?3:_dpr>=2&&(!dpr||dpr>=2)?2:1:1)}if(docElem.setAttribute("data-dpr",dpr),!vpMeta)if((vpMeta=doc.createElement("meta")).setAttribute("name","viewport"),vpMeta.setAttribute("content","initial-scale="+scale+", maximum-scale="+scale+", minimum-scale="+scale+", user-scalable=no"),docElem.firstElementChild)docElem.firstElementChild.appendChild(vpMeta);else{var div=doc.createElement("div");div.appendChild(vpMeta),doc.write(div.innerHTML)}function setFontSize(){var winWidth=docElem.getBoundingClientRect().width;winWidth/dpr>750&&(winWidth=750*dpr);var baseSize=winWidth/10;docElem.style.fontSize=baseSize+"px",flexible.rem=win.rem=baseSize}win.addEventListener("resize",function(){clearTimeout(timer),timer=setTimeout(setFontSize,300)},!1),win.addEventListener("orientationchange",function(){clearTimeout(timer),timer=setTimeout(setFontSize,300)},!1),win.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(timer),timer=setTimeout(setFontSize,300))},!1),"complete"===doc.readyState?doc.body.style.fontSize=12*dpr+"px":doc.addEventListener("DOMContentLoaded",function(){doc.body.style.fontSize=12*dpr+"px"},!1),setFontSize(),flexible.dpr=win.dpr=dpr,flexible.refreshRem=setFontSize,flexible.rem2px=function(d){var c=parseFloat(d)*this.rem;return"string"==typeof d&&d.match(/rem$/)&&(c+="px"),c},flexible.px2rem=function(d){var c=parseFloat(d)/this.rem;return"string"==typeof d&&d.match(/px$/)&&(c+="rem"),c}}(window,window.lib||(window.lib={}));